{
  "openapi": "3.0.2",
  "info": {
    "title": "mqube-mcp-connector",
    "version": "0.0.0"
  },
  "paths": {
    "/generate": {
      "post": {
        "tags": [
          "LLM Generation"
        ],
        "summary": "Generate Response",
        "description": "Generate a response using the LLM with optional MCP tools.",
        "operationId": "generate_response_generate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseDto_LlmResponseDto_"
                }
              }
            }
          }
        }
      }
    },
    "/select_tool": {
      "post": {
        "tags": [
          "LLM Generation"
        ],
        "summary": "Select Tool",
        "description": "Select the most appropriate tool for the given problem data.",
        "operationId": "select_tool_select_tool_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ToolSelectorRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseDto_ToolSelectorResponseDto_"
                }
              }
            }
          }
        }
      }
    },
    "/tools": {
      "get": {
        "tags": [
          "Information"
        ],
        "summary": "Get Tools",
        "description": "Get list of available MCP tools.",
        "operationId": "get_tools_tools_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseDto_List_AvailableTools__"
                }
              }
            }
          }
        }
      }
    },
    "/models": {
      "get": {
        "tags": [
          "Information"
        ],
        "summary": "Get Models",
        "description": "Get list of available AI models.",
        "operationId": "get_models_models_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseDto_List_AiModel__"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AiModel": {
        "type": "string",
        "enum": [
          "gpt-4o",
          "claude-sonnet-4-20250514",
          "claude-opus-4-1-20250805",
          "claude-3-5-haiku-20241022",
          "gpt-5",
          "llama3.1:8b"
        ],
        "title": "AiModel"
      },
      "AvailableTools": {
        "type": "string",
        "enum": [
          "grafana",
          "playwright",
          "time",
          "github",
          "zendesk",
          "notion",
          "zenhub"
        ],
        "title": "AvailableTools"
      },
      "GenerateRequestDto": {
        "properties": {
          "prompt": {
            "type": "string",
            "title": "The prompt",
            "description": "The prompt from the user"
          },
          "system_prompt": {
            "anyOf": [
              {
                "type": "string"
              }
            ],
            "title": "The system prompt",
            "description": "The system prompt to guide the model",
            "nullable": true
          },
          "additional_instructions": {
            "anyOf": [
              {
                "type": "string"
              }
            ],
            "title": "Additional instructions",
            "description": "Any additional instructions for the model",
            "nullable": true
          },
          "tools": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/AvailableTools"
                },
                "type": "array"
              }
            ],
            "title": "Available tools",
            "description": "List of tools that can be used by the model",
            "default": [],
            "nullable": true
          },
          "model_id": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AiModel"
              }
            ],
            "title": "Model ID",
            "description": "The specific model to use for generation",
            "nullable": true
          }
        },
        "type": "object",
        "title": "GenerateRequestDto"
      },
      "HTTPStatus": {
        "type": "integer",
        "enum": [
          100,
          101,
          102,
          103,
          200,
          201,
          202,
          203,
          204,
          205,
          206,
          207,
          208,
          226,
          300,
          301,
          302,
          303,
          304,
          305,
          307,
          308,
          400,
          401,
          402,
          403,
          404,
          405,
          406,
          407,
          408,
          409,
          410,
          411,
          412,
          413,
          413,
          414,
          414,
          415,
          416,
          416,
          417,
          418,
          421,
          422,
          422,
          423,
          424,
          425,
          426,
          428,
          429,
          431,
          451,
          500,
          501,
          502,
          503,
          504,
          505,
          506,
          507,
          508,
          510,
          511
        ],
        "title": "HTTPStatus",
        "description": "HTTP status codes and reason phrases\n\nStatus codes from the following RFCs are all observed:\n\n    * RFC 9110: HTTP Semantics, obsoletes 7231, which obsoleted 2616\n    * RFC 6585: Additional HTTP Status Codes\n    * RFC 3229: Delta encoding in HTTP\n    * RFC 4918: HTTP Extensions for WebDAV, obsoletes 2518\n    * RFC 5842: Binding Extensions to WebDAV\n    * RFC 7238: Permanent Redirect\n    * RFC 2295: Transparent Content Negotiation in HTTP\n    * RFC 2774: An HTTP Extension Framework\n    * RFC 7725: An HTTP Status Code to Report Legal Obstacles\n    * RFC 7540: Hypertext Transfer Protocol Version 2 (HTTP/2)\n    * RFC 2324: Hyper Text Coffee Pot Control Protocol (HTCPCP/1.0)\n    * RFC 8297: An HTTP Status Code for Indicating Hints\n    * RFC 8470: Using Early Data in HTTP"
      },
      "LlmResponseDto": {
        "properties": {
          "answer": {
            "type": "string",
            "title": "Answer"
          }
        },
        "type": "object",
        "title": "LlmResponseDto"
      },
      "PotentialToolDto": {
        "properties": {
          "tool": {
            "$ref": "#/components/schemas/AvailableTools",
            "title": "Tool name",
            "description": "The available tool that could be used"
          },
          "description": {
            "type": "string",
            "title": "Tool description",
            "description": "Description of when and how to use this tool"
          }
        },
        "type": "object",
        "title": "PotentialToolDto"
      },
      "ResponseDto_List_AiModel__": {
        "properties": {
          "result": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/AiModel"
                },
                "type": "array"
              }
            ],
            "title": "Result",
            "nullable": true
          },
          "status_code": {
            "$ref": "#/components/schemas/HTTPStatus",
            "default": 200,
            "nullable": true
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              }
            ],
            "title": "Error Message",
            "nullable": true
          },
          "version": {
            "type": "string",
            "title": "Version",
            "default": "0.0.0",
            "nullable": true
          }
        },
        "type": "object",
        "title": "ResponseDto[List[AiModel]]"
      },
      "ResponseDto_List_AvailableTools__": {
        "properties": {
          "result": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/AvailableTools"
                },
                "type": "array"
              }
            ],
            "title": "Result",
            "nullable": true
          },
          "status_code": {
            "$ref": "#/components/schemas/HTTPStatus",
            "default": 200,
            "nullable": true
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              }
            ],
            "title": "Error Message",
            "nullable": true
          },
          "version": {
            "type": "string",
            "title": "Version",
            "default": "0.0.0",
            "nullable": true
          }
        },
        "type": "object",
        "title": "ResponseDto[List[AvailableTools]]"
      },
      "ResponseDto_LlmResponseDto_": {
        "properties": {
          "result": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/LlmResponseDto"
              }
            ],
            "nullable": true
          },
          "status_code": {
            "$ref": "#/components/schemas/HTTPStatus",
            "default": 200,
            "nullable": true
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              }
            ],
            "title": "Error Message",
            "nullable": true
          },
          "version": {
            "type": "string",
            "title": "Version",
            "default": "0.0.0",
            "nullable": true
          }
        },
        "type": "object",
        "title": "ResponseDto[LlmResponseDto]"
      },
      "ResponseDto_ToolSelectorResponseDto_": {
        "properties": {
          "result": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ToolSelectorResponseDto"
              }
            ],
            "nullable": true
          },
          "status_code": {
            "$ref": "#/components/schemas/HTTPStatus",
            "default": 200,
            "nullable": true
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              }
            ],
            "title": "Error Message",
            "nullable": true
          },
          "version": {
            "type": "string",
            "title": "Version",
            "default": "0.0.0",
            "nullable": true
          }
        },
        "type": "object",
        "title": "ResponseDto[ToolSelectorResponseDto]"
      },
      "ToolSelectorRequestDto": {
        "properties": {
          "potential_tools": {
            "items": {
              "$ref": "#/components/schemas/PotentialToolDto"
            },
            "type": "array",
            "title": "Potential tools",
            "description": "List of potential tools with descriptions that the LLM can choose from"
          },
          "data": {
            "type": "string",
            "title": "Problem data",
            "description": "The data or problem description that needs a tool solution"
          },
          "model_id": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AiModel"
              }
            ],
            "title": "Model ID",
            "description": "The specific model to use for tool selection",
            "nullable": true
          }
        },
        "type": "object",
        "title": "ToolSelectorRequestDto"
      },
      "ToolSelectorResponseDto": {
        "properties": {
          "selected_tool": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AvailableTools"
              }
            ],
            "title": "Selected tool (if any)",
            "description": "The tool selected by the LLM as best suited for the problem. None if no tool is suitable.",
            "nullable": true
          },
          "confidence_score": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              }
            ],
            "title": "Confidence score",
            "description": "Confidence score (0.0-1.0) for the tool selection. Higher values indicate more certainty.",
            "nullable": true
          }
        },
        "type": "object",
        "title": "ToolSelectorResponseDto"
      }
    }
  }
}